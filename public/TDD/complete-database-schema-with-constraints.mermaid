erDiagram
    USERS {
        int id PK "AUTO_INCREMENT"
        varchar username "UNIQUE, NOT NULL"
        varchar email "UNIQUE, NOT NULL"
        varchar password "NOT NULL"
        timestamp created_at "DEFAULT CURRENT_TIMESTAMP"
        timestamp updated_at "ON UPDATE CURRENT_TIMESTAMP"
    }
    
    ADMINS {
        varchar email PK "REFERENCES users(email)"
        varchar password "NOT NULL"
        timestamp created_at "DEFAULT CURRENT_TIMESTAMP"
    }
    
    USER_PROFILES {
        int user_id PK "FK REFERENCES users(id)"
        varchar full_name "NULL"
        varchar phone "NULL"
        text address "NULL"
        varchar unit_number "NULL"
        enum residency_type "owner, tenant, NULL"
        date move_in_date "NULL"
        varchar emergency_contact_name "NULL"
        varchar emergency_contact_phone "NULL"
        text bio "NULL"
        timestamp created_at "DEFAULT CURRENT_TIMESTAMP"
        timestamp updated_at "ON UPDATE CURRENT_TIMESTAMP"
    }
    
    COMMUNITY_POSTS {
        int id PK "AUTO_INCREMENT"
        int user_id FK "REFERENCES users(id)"
        varchar username "NOT NULL"
        varchar title "NOT NULL"
        varchar category "NOT NULL"
        text message "NOT NULL"
        timestamp created_at "DEFAULT CURRENT_TIMESTAMP"
        timestamp updated_at "ON UPDATE CURRENT_TIMESTAMP"
    }
    
    COMMENTS {
        int id PK "AUTO_INCREMENT"
        int post_id FK "REFERENCES community_posts(id)"
        int user_id FK "REFERENCES users(id)"
        varchar username "NOT NULL"
        text comment "NOT NULL"
        timestamp created_at "DEFAULT CURRENT_TIMESTAMP"
    }
    
    NOTIFICATIONS {
        int id PK "AUTO_INCREMENT"
        int receiver_id FK "REFERENCES users(id)"
        int sender_id FK "REFERENCES users(id), NULL"
        varchar sender_name "NULL"
        text message "NOT NULL"
        varchar category "NOT NULL"
        tinyint read_status "DEFAULT 0"
        timestamp created_at "DEFAULT CURRENT_TIMESTAMP"
    }
    
    PAYMENTS {
        int id PK "AUTO_INCREMENT"
        int user_id FK "REFERENCES users(id)"
        decimal amount "NOT NULL, PRECISION(10,2)"
        varchar category "NOT NULL"
        enum status "Pending, Completed, Failed"
        date due_date "NOT NULL"
        date payment_date "NULL"
        timestamp created_at "DEFAULT CURRENT_TIMESTAMP"
        timestamp updated_at "ON UPDATE CURRENT_TIMESTAMP"
    }
    
    COMPLAINTS {
        int id PK "AUTO_INCREMENT"
        int user_id FK "REFERENCES users(id)"
        varchar title "NOT NULL"
        varchar category "NOT NULL"
        text description "NOT NULL"
        enum status "Pending, In Progress, Resolved"
        text admin_response "NULL"
        timestamp created_at "DEFAULT CURRENT_TIMESTAMP"
        timestamp updated_at "ON UPDATE CURRENT_TIMESTAMP"
    }
    
    PASSWORD_RESETS {
        int id PK "AUTO_INCREMENT"
        int user_id FK "REFERENCES users(id)"
        varchar token "UNIQUE, NOT NULL"
        timestamp expires_at "NOT NULL"
        timestamp created_at "DEFAULT CURRENT_TIMESTAMP"
    }
    
    USERS ||--o| USER_PROFILES : "1:1"
    USERS ||--o{ COMMUNITY_POSTS : "1:N creates"
    USERS ||--o{ COMMENTS : "1:N writes"
    USERS ||--o{ NOTIFICATIONS : "1:N receives"
    USERS ||--o{ PAYMENTS : "1:N has"
    USERS ||--o{ COMPLAINTS : "1:N submits"
    USERS ||--o{ PASSWORD_RESETS : "1:N requests"
    COMMUNITY_POSTS ||--o{ COMMENTS : "1:N contains"
    ADMINS ||--|| USERS : "1:1 extends"